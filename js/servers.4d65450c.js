(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["servers"],{"52f4":function(e,t,r){"use strict";r("7f5d")},"5bc3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){e.dialogFormVisible=!0,e.editIndex=-1}}},[r("i",{staticClass:"el-icon-plus"}),e._v("添加")]),r("el-dialog",{attrs:{title:"添加服务器",visible:e.dialogFormVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.newServer}},[r("el-form-item",{attrs:{label:"Name","label-width":"80px"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.newServer.name,callback:function(t){e.$set(e.newServer,"name",t)},expression:"newServer.name"}})],1),r("el-form-item",{attrs:{label:"Host","label-width":"80px"}},[r("el-input",{attrs:{min:1,max:65535},model:{value:e.newServer.host,callback:function(t){e.$set(e.newServer,"host",t)},expression:"newServer.host"}})],1),r("el-form-item",{attrs:{label:"Port","label-width":"80px"}},[r("el-input-number",{attrs:{"auto-complete":"off"},model:{value:e.newServer.port,callback:function(t){e.$set(e.newServer,"port",t)},expression:"newServer.port"}})],1),r("el-form-item",{attrs:{label:"Secret","label-width":"80px"}},[r("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off"},model:{value:e.newServer.secret,callback:function(t){e.$set(e.newServer,"secret",t)},expression:"newServer.secret"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.addServer()}}},[e._v("确 定")])],1)],1),r("el-table",{attrs:{stripe:"",data:e.servers,"empty-text":"暂无服务器"}},[r("el-table-column",{attrs:{prop:"name",label:"名称"}}),r("el-table-column",{attrs:{prop:"host",label:"IP"}}),r("el-table-column",{attrs:{prop:"port",label:"端口"}}),r("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){return e.removeServer(t.$index)}}},[e._v("删除")]),r("el-button",{attrs:{size:"small"},on:{click:function(r){return e.editServer(t.$index)}}},[e._v("编辑")])]}}])})],1)],1)},s=[],o=r("1da1"),l=(r("96cf"),r("a434"),{data:function(){var e=JSON.parse(localStorage.getItem("aria2Servers"))||[];return{servers:e,dialogFormVisible:!1,editIndex:-1,newServer:{name:"",host:"127.0.0.1",port:6800,secret:""}}},watch:{servers:function(e){console.log(e),console.log("servers changed...."),localStorage.setItem("aria2Servers",JSON.stringify(e)),this.$emit("servers-changed",this.servers)}},methods:{removeServer:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$confirm("确定要删除吗？");case 3:t.servers.splice(e,1),r.next=12;break;case 6:if(r.prev=6,r.t0=r["catch"](0),"cancel"!=r.t0){r.next=11;break}r.next=12;break;case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,6]])})))()},editServer:function(e){this.editIndex=e;var t=this.servers[e];Object.assign(this.newServer,t),this.dialogFormVisible=!0},addServer:function(){-1==this.editIndex?(this.servers.push(this.newServer),this.newServer={host:"127.0.0.1",port:6800,secret:""}):(console.log("changed server"),this.servers.splice(this.editIndex,1,this.newServer),this.newServer={host:"127.0.0.1",port:6800,secret:""})}}}),i=l,a=(r("52f4"),r("2877")),c=Object(a["a"])(i,n,s,!1,null,"63449884",null);t["default"]=c.exports},"7f5d":function(e,t,r){},a434:function(e,t,r){"use strict";var n=r("23e7"),s=r("23cb"),o=r("5926"),l=r("07fa"),i=r("7b0b"),a=r("65f0"),c=r("8418"),u=r("1dde"),d=u("splice"),v=Math.max,p=Math.min,f=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,n,u,d,b,h,w=i(this),S=l(w),g=s(e,S),x=arguments.length;if(0===x?r=n=0:1===x?(r=0,n=S-g):(r=x-2,n=p(v(o(t),0),S-g)),S+r-n>f)throw TypeError(m);for(u=a(w,n),d=0;d<n;d++)b=g+d,b in w&&c(u,d,w[b]);if(u.length=n,r<n){for(d=g;d<S-n;d++)b=d+n,h=d+r,b in w?w[h]=w[b]:delete w[h];for(d=S;d>S-n+r;d--)delete w[d-1]}else if(r>n)for(d=S-n;d>g;d--)b=d+n-1,h=d+r-1,b in w?w[h]=w[b]:delete w[h];for(d=0;d<r;d++)w[d+g]=arguments[d+2];return w.length=S-n+r,u}})}}]);
//# sourceMappingURL=servers.4d65450c.js.map